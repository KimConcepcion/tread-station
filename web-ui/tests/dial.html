<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Tread Station</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!--link type="text/css" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700"-->
	<link rel="stylesheet" href="../css/themes/smoothness/jquery-ui.css">
	<link rel="stylesheet" href="../css/grayscale.css">
    <link rel="stylesheet" href="../css/dial/metal.css">
	<link rel="stylesheet" href="../css/font-awesome.min.css">
	<link rel="stylesheet" href="../bootstrap/css/bootstrap.css">
	<link rel="stylesheet" href="../bootstrap/css/bootstrap-theme.css">
	<script src="../js/jquery-1.9.1.js"></script>
	<script src="../js/jquery-ui.js"></script>
	<script src="../js/underscore.js"></script>
	<script src="../js/backbone.js"></script>
	<script src="../js/side-nav.js"></script>
	<script src="../js/d3.min.js"></script>
	<script src="../bootstrap/js/bootstrap.js"></script>
	<script src="../highcharts/js/highstock.js"></script>
	<script src="../highcharts/js/exporting.js"></script>
	<script src="../highcharts/js/highcharts-more.js"></script>
	<script src="../js/bootstrap.touchspin.js"></script>
	<script src="../js/qotd.js"></script>
    <script src="../js/dial.js"></script>
    <script src="../js/dial-indicator.js"></script>
    <script src="../js/button-indicator.js"></script>
    <script src="../js/graduated-indicator.js"></script>
    <script src="../js/incline-indicator.js"></script>
    <script src="../js/jizz.js"></script>
    <script src="../js/autopace-indicator.js"></script>
	<link rel="stylesheet" href="../css/style.css">
	<link rel="stylesheet" href="../css/brown.css">
    <style>
        .slider {
            width: 80px;
            display: inline-block;
        }
    </style>
</head>
<body id="page-top" data-spy="scroll" data-target=".navbar-custom" class="noselect connected">


<div id="footer" style="display:none">
	<div id="ConnectionStatus">Not connected</div>
	<div id="debug"></div>
</div>

<div class="container">
    <div id="page1" class="page">
        <div id="speed-dial" class="dial">
            <!-- svg dial indicator goes here !-->
        </div>
    </div>
</div>


<div class="container">
    <!--div id="dial1" class="dial"></div>
    <div id="slider2" class="slider" data-options="slider2_options"></div>
    <div id="slider3" class="slider" data-options="slider3_options"></div>
    <div id="slider4" class="slider" data-options="slider4_options"></div>
    <div id="slider5" class="slider" data-options="slider5_options"></div>
    <div id="slider6" class="slider" data-options="slider6_options"></div-->
</div>


<script language="JavaScript">
    var nextUpdate = null;

    var slider2_options = {
        history: {
            gooey: 7
        }
    };

	$(".dial").each(function() {
        var dial = $(this).dial({
            id: "dial1"
        });
        dial.treadmill = {
            goal: {
                time: 90 * 60,    // seconds
                distance: 1    // miles
            }
        };

        // speed increment/decrement buttons
        dial.plugin("increment",  new ButtonGroupIndicator({
            lane: {
                ordinal: 0,
                //offset: dial.getLane(-1).offset,     // make this lane start at the same offset as lane 1
                alignment: 'bottom'
            },
            arcrange: [ 0.83*Math.PI, 1.17*Math.PI ],
            button_options: {
                background: {
                    fill: '#222',
                    margin: { inner: dial.progress.lane.offset - dial.speed.lane.offset }
                },
                text: {
                    color: '#aaa',
                    size: '90px'
                }
            },
            buttons: [
                {
                    id: "speed-increase",
                    caption: "$up"
                },
                {
                    id: "speed-decrease",
                    caption: "$down"
                }
            ]
        }));

        dial.plugin("incline",  new InclineIndicator({
            lane: {
                ordinal: 1,
                alignment: 'left'
            },
            arcrange: 0.6*Math.PI
        }));
        dial.plugin("autopace",  new AutoPaceIndicator({
            lane: {
                ordinal: 2,
                alignment: 'left'
            },
            arcrange: 0.6*Math.PI
        }));

        // speed macro buttons
        dial.plugin("quickdial",  new ButtonGroupIndicator({
            lane: {
                ordinal: 3,
                offset: dial.getLane(1).offset,     // make this lane start at the same offset as lane 1
                width: 400,                         // set as a large width for our buttons
                alignment: 'right'
            },
            arcrange: [ 0.7*Math.PI, 0.1*Math.PI ],
            button_options: {
                background: {
                    fill: '#222'
                },
                text: {
                    color: '#aaa',
                    size: '90px'
                },
                click: function(b) { dial.speed.set(Number(b.caption)); }
            },
            buttons: [
                    "3.2","3.6","4.2","4.8","5.5"
            ]
        }));


        dial.speed.set(4.2, true);
        setTimeout(function() { dial.speed.set(2.5); }, 2000);
        setTimeout(function() { dial.speed.set(0); }, 4000);
        setTimeout(function() { dial.speed.set(3.3); }, 6000);

        // the progress indicator set() method will now take [secs, mins, hours] arguments
        // instead of a single number
        dial.progress.options.valueFunction = function(secs, mins, hours) {
            return (secs + mins*60 + hours*3600) / dial.treadmill.goal.time;
        };

        dial.progress.set(36, 5, 0);
        setTimeout(function() { dial.progress.set(30, 45, 0); }, 2000);
        setTimeout(function() { dial.progress.set(15, 15, 0); }, 5000);

        dial.zoom(1.5, 1000);

        dial.svg.on("mousemove", function (e) {
            if (!dial.autopace) return;
            var mouse = dial.mouse();
            mouse._domain = mouse.domain();
            mouse._degrees = mouse.degrees();
        });

        if(dial.incline) {
            setTimeout(function () {
                dial.incline.set(0.75);
            }, 1500);
        }

        if(dial.autopace) {
            setTimeout(function() { dial.autopace.set(0.5); }, 1500);

            dial.autopace.container.on("mousemove", function (e) {
                var mouse = dial.mouse();
                if (!mouse || !dial.autopace) return;
                var value = mouse.domain(dial.autopace.scale);
                if (value) {
                    var now = Number(new Date());
                    if (now > nextUpdate) {
                        dial.autopace.jizz.add(value);
                        nextUpdate = now + 50;
                    }
                }
            });
        }

    });




</script>


</body>
</html>
